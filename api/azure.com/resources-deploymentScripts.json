{"openapi":"3.0.0","info":{"description":"The APIs listed in this specification can be used to manage Deployment Scripts resource through the Azure Resource Manager.","title":"DeploymentScriptsClient","version":"2019-10-01-preview","x-apisguru-categories":["cloud"],"x-logo":{"url":"https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png"},"x-origin":[{"format":"swagger","url":"https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/resources/resource-manager/Microsoft.Resources/preview/2019-10-01-preview/deploymentScripts.json","version":"2.0"}],"x-providerName":"azure.com","x-serviceName":"resources-deploymentScripts","x-tags":["Azure","Microsoft"]},"security":[{"azure_auth":["user_impersonation"]}],"paths":{"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deploymentScripts":{"get":{"description":"Lists all deployment scripts for a given subscription.","operationId":"DeploymentScripts_ListBySubscription","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"responses":{"200":{"description":"OK -- Returns a list of deployment scripts.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScriptListResult"},"examples":{"DeploymentScriptsListBySubscription":{"$ref":"#/components/examples/DeploymentScriptsListBySubscription"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"],"x-ms-pageable":{"nextLinkName":"nextLink"}}},"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts":{"get":{"description":"Lists deployments scripts.","operationId":"DeploymentScripts_ListByResourceGroup","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"responses":{"200":{"description":"OK -- Returns a list of deployment scripts.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScriptListResult"},"examples":{"DeploymentScriptsList":{"$ref":"#/components/examples/DeploymentScriptsList"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"],"x-ms-pageable":{"nextLinkName":"nextLink"}}},"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}":{"delete":{"description":"Deletes a deployment script. When operation completes, status code 200 returned without content.","operationId":"DeploymentScripts_Delete","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ScriptNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"responses":{"200":{"description":"OK -- Deployment script deleted."},"204":{"description":"Deployment script does not exist."},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"]},"get":{"description":"Gets a deployment script with a given name.","operationId":"DeploymentScripts_Get","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ScriptNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"responses":{"200":{"description":"OK -- Returns information about the deployment script.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScript"},"examples":{"DeploymentScriptsGet":{"$ref":"#/components/examples/DeploymentScriptsGet"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"]},"patch":{"description":"Updates deployment script tags with specified values.","operationId":"DeploymentScripts_Update","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ScriptNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScriptUpdateParameter"}}},"description":"Deployment script resource with the tags to be updated."},"responses":{"200":{"description":"OK -- Deployment script tags are updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScript"},"examples":{"DeploymentScriptsUpdate":{"$ref":"#/components/examples/DeploymentScriptsUpdate"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"]},"put":{"description":"Creates a deployment script.","operationId":"DeploymentScripts_Create","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ScriptNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScript"}}},"description":"Deployment script supplied to the operation.","required":true},"responses":{"200":{"description":"OK -- Deployment script is updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScript"},"examples":{"DeploymentScriptsCreate":{"$ref":"#/components/examples/DeploymentScriptsCreate"},"DeploymentScriptsCreate_MinCreate":{"$ref":"#/components/examples/DeploymentScriptsCreate_MinCreate"}}}}},"201":{"description":"Created -- Deployment script created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentScript"},"examples":{"DeploymentScriptsCreate":{"$ref":"#/components/examples/DeploymentScriptsCreate"},"DeploymentScriptsCreate_MinCreate":{"$ref":"#/components/examples/DeploymentScriptsCreate_MinCreate"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"],"x-ms-long-running-operation":true}},"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}/logs":{"get":{"description":"Gets deployment script logs for a given deployment script name.","operationId":"DeploymentScripts_GetLogs","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ScriptNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"responses":{"200":{"description":"OK -- Returns deployment script logs if available.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScriptLogsList"},"examples":{"DeploymentScriptsGetLogs":{"$ref":"#/components/examples/DeploymentScriptsGetLogs"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"]}},"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}/logs/default":{"get":{"description":"Gets deployment script logs for a given deployment script name.","operationId":"DeploymentScripts_GetLogsDefault","parameters":[{"$ref":"#/components/parameters/SubscriptionIdParameter"},{"$ref":"#/components/parameters/ResourceGroupNameParameter"},{"$ref":"#/components/parameters/ScriptNameParameter"},{"$ref":"#/components/parameters/ApiVersionParameter"}],"responses":{"200":{"description":"OK -- Returns deployment script logs if available.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScriptLog"},"examples":{"DeploymentScriptsGetLogs":{"$ref":"#/components/examples/DeploymentScriptsGetLogs"}}}}},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultErrorResponse"}}}}},"tags":["DeploymentScripts"]}}},"servers":[{"url":"https://management.azure.com"}],"components":{"examples":{"DeploymentScriptsListBySubscription":{"value":{"value":[{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/uai":{}}},"kind":"AzurePowerShell","location":"westus","properties":{"arguments":"-Location 'westus' -Name \"*rg2\"","azPowerShellVersion":"1.7.0","cleanupPreference":"Always","outputs":{"output1":"value1"},"provisioningState":"Succeeded","retentionInterval":"PT7D","scriptContent":"Param([string]$Location,[string]$Name) $deploymentScriptOutputs['test'] = 'value' Get-AzResourceGroup -Location $Location -Name $Name","status":{"containerInstanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ContainerInstance/containerGroups/scriptContainer","endTime":"2018-11-13T15:19:45-08:00","expirationTime":"2018-11-13T15:19:45-08:00","startTime":"2018-11-13T15:19:45-08:00","storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.Storage/storageAccounts/scriptStorage"},"timeout":"PT1H"}}]}},"DeploymentScriptsList":{"value":{"value":[{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/uai":{}}},"kind":"AzurePowerShell","location":"westus","properties":{"arguments":"-Location 'westus' -Name \"*rg2\"","azPowerShellVersion":"1.7.0","cleanupPreference":"Always","outputs":{"output1":"value1"},"provisioningState":"Succeeded","retentionInterval":"P7D","scriptContent":"Param([string]$Location,[string]$Name) $deploymentScriptOutputs['test'] = 'value' Get-AzResourceGroup -Location $Location -Name $Name","status":{"containerInstanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ContainerInstance/containerGroups/scriptContainer","endTime":"2018-11-13T15:19:45-08:00","expirationTime":"2018-11-13T15:19:45-08:00","startTime":"2018-11-13T15:19:45-08:00","storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.Storage/storageAccounts/scriptStorage"},"supportingScriptUris":["https://uri1.to.supporting.script","https://uri2.to.supporting.script"],"timeout":"PT1H"}}]}},"DeploymentScriptsGet":{"value":{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/uai":{}}},"kind":"AzurePowerShell","location":"westus","properties":{"arguments":"-Location 'westus' -Name \"*rg2\"","azPowerShellVersion":"1.7.0","cleanupPreference":"Always","outputs":{"output1":"value1"},"provisioningState":"Succeeded","retentionInterval":"PT7D","scriptContent":"Param([string]$Location,[string]$Name) $deploymentScriptOutputs['test'] = 'value' Get-AzResourceGroup -Location $Location -Name $Name","status":{"containerInstanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ContainerInstance/containerGroups/scriptContainer","endTime":"2018-11-13T15:19:45-08:00","expirationTime":"2018-11-13T15:19:45-08:00","startTime":"2018-11-13T15:19:45-08:00","storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.Storage/storageAccounts/scriptStorage"},"timeout":"PT1H"}}},"DeploymentScriptsUpdate":{"value":{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/uai":{}}},"kind":"AzurePowerShell","location":"westus","properties":{"arguments":"-Location 'westus' -Name \"*rg2\"","azPowerShellVersion":"1.7.0","cleanupPreference":"Always","outputs":{"output1":"value1"},"provisioningState":"Succeeded","retentionInterval":"P7D","scriptContent":"Param([string]$Location,[string]$Name) $deploymentScriptOutputs['test'] = 'value' Get-AzResourceGroup -Location $Location -Name $Name","status":{"containerInstanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ContainerInstance/containerGroups/scriptContainer","endTime":"2018-11-13T15:19:45-08:00","expirationTime":"2018-11-13T15:19:45-08:00","startTime":"2018-11-13T15:19:45-08:00","storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.Storage/storageAccounts/scriptStorage"},"supportingScriptUris":["https://uri1.to.supporting.script","https://uri2.to.supporting.script"],"timeout":"PT1H"},"tags":{}}},"DeploymentScriptsCreate":{"value":{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/uai":{}}},"kind":"AzurePowerShell","location":"westus","properties":{"arguments":"-Location 'westus' -Name \"*rg2\"","azPowerShellVersion":"1.7.0","cleanupPreference":"Always","provisioningState":"Creating","retentionInterval":"P7D","scriptContent":"Param([string]$Location,[string]$Name) $deploymentScriptOutputs['test'] = 'value' Get-AzResourceGroup -Location $Location -Name $Name","status":{"containerInstanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ContainerInstance/containerGroups/scriptContainer","endTime":"2018-11-13T15:19:45-08:00","expirationTime":"2018-11-13T15:19:45-08:00","startTime":"2018-11-13T15:19:45-08:00","storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.Storage/storageAccounts/scriptStorage"},"supportingScriptUris":["https://uri1.to.supporting.script","https://uri2.to.supporting.script"],"timeout":"PT1H"}}},"DeploymentScriptsCreate_MinCreate":{"value":{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/uai":{}}},"kind":"AzurePowerShell","location":"westus","properties":{"arguments":"-Location 'westus' -Name \"*rg2\"","azPowerShellVersion":"1.7.0","cleanupPreference":"Always","provisioningState":"Creating","retentionInterval":"P7D","scriptContent":"Param([string]$Location,[string]$Name) $deploymentScriptOutputs['test'] = 'value' Get-AzResourceGroup -Location $Location -Name $Name","status":{"containerInstanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.ContainerInstance/containerGroups/scriptContainer","endTime":"2018-11-13T15:19:45-08:00","expirationTime":"2018-11-13T15:19:45-08:00","startTime":"2018-11-13T15:19:45-08:00","storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/scriptRG/providers/Microsoft.Storage/storageAccounts/scriptStorage"},"timeout":"PT1H"}}},"DeploymentScriptsGetLogs":{"value":{"properties":{"log":"script execution stdout/stderr logs"}}}},"parameters":{"ApiVersionParameter":{"description":"Client Api version.","in":"query","name":"api-version","required":true,"x-ms-parameter-location":"client","schema":{"type":"string"},"examples":{"DeploymentScriptsListBySubscription":{"value":"2019-10-01-preview"},"DeploymentScriptsList":{"value":"2019-10-01-preview"},"DeploymentScriptsDelete":{"value":"2019-10-01-preview"},"DeploymentScriptsGet":{"value":"2019-10-01-preview"},"DeploymentScriptsUpdate":{"value":"2019-10-01-preview"},"DeploymentScriptsCreate":{"value":"2019-10-01-preview"},"DeploymentScriptsCreate_MinCreate":{"value":"2019-10-01-preview"},"DeploymentScriptsGetLogs":{"value":"2019-10-01-preview"}}},"ResourceGroupNameParameter":{"description":"The name of the resource group. The name is case insensitive.","in":"path","name":"resourceGroupName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":1,"maxLength":90,"pattern":"^[-\\w\\._\\(\\)]+$"},"examples":{"DeploymentScriptsList":{"value":"script-rg"},"DeploymentScriptsDelete":{"value":"script-rg"},"DeploymentScriptsGet":{"value":"script-rg"},"DeploymentScriptsUpdate":{"value":"script-rg"},"DeploymentScriptsCreate":{"value":"script-rg"},"DeploymentScriptsCreate_MinCreate":{"value":"script-rg"},"DeploymentScriptsGetLogs":{"value":"script-rg"}}},"ScriptNameParameter":{"description":"Name of the deployment script.","in":"path","name":"scriptName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":1,"maxLength":90},"examples":{"DeploymentScriptsDelete":{"value":"MyDeploymentScript"},"DeploymentScriptsGet":{"value":"MyDeploymentScript"},"DeploymentScriptsUpdate":{"value":"MyDeploymentScript"},"DeploymentScriptsCreate":{"value":"MyDeploymentScript"},"DeploymentScriptsCreate_MinCreate":{"value":"MyDeploymentScript"},"DeploymentScriptsGetLogs":{"value":"MyDeploymentScript"}}},"SubscriptionIdParameter":{"description":"Subscription Id which forms part of the URI for every service call.","in":"path","name":"subscriptionId","required":true,"x-ms-parameter-location":"client","schema":{"type":"string"},"examples":{"DeploymentScriptsListBySubscription":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsList":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsDelete":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsGet":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsUpdate":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsCreate":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsCreate_MinCreate":{"value":"00000000-0000-0000-0000-000000000000"},"DeploymentScriptsGetLogs":{"value":"00000000-0000-0000-0000-000000000000"}}}},"securitySchemes":{"azure_auth":{"description":"Azure Active Directory OAuth2 Flow","type":"oauth2","flows":{"implicit":{"authorizationUrl":"https://login.microsoftonline.com/common/oauth2/authorize","scopes":{"user_impersonation":"impersonate your user account"}}}}},"schemas":{"AzureCliScript":{"allOf":[{"$ref":"#/components/schemas/DeploymentScript"}],"description":"Object model for the Azure CLI script.","properties":{"properties":{"$ref":"#/components/schemas/AzureCliScriptProperties"}},"required":["properties"],"type":"object","x-ms-discriminator-value":"AzureCLI"},"AzureCliScriptProperties":{"allOf":[{"$ref":"#/components/schemas/DeploymentScriptPropertiesBase"},{"$ref":"#/components/schemas/ScriptConfigurationBase"}],"description":"Properties of the Azure CLI script object.","properties":{"azCliVersion":{"description":"Azure CLI module version to be used.","type":"string"}},"required":["azCliVersion"],"type":"object"},"AzurePowerShellScript":{"allOf":[{"$ref":"#/components/schemas/DeploymentScript"}],"description":"Object model for the Azure PowerShell script.","properties":{"properties":{"$ref":"#/components/schemas/AzurePowerShellScriptProperties"}},"required":["properties"],"type":"object","x-ms-discriminator-value":"AzurePowerShell"},"AzurePowerShellScriptProperties":{"allOf":[{"$ref":"#/components/schemas/DeploymentScriptPropertiesBase"},{"$ref":"#/components/schemas/ScriptConfigurationBase"}],"description":"Properties of the Azure PowerShell script object.","properties":{"azPowerShellVersion":{"description":"Azure PowerShell module version to be used.","type":"string"}},"required":["azPowerShellVersion"],"type":"object"},"AzureResourceBase":{"description":"Common properties for all Azure resources.","properties":{"id":{"description":"String Id used to locate any resource on Azure.","readOnly":true,"type":"string"},"name":{"description":"Name of this resource.","readOnly":true,"type":"string"},"type":{"description":"Type of this resource.","readOnly":true,"type":"string"}},"type":"object","x-ms-azure-resource":true},"DefaultErrorResponse":{"description":"The details of the error.","properties":{"code":{"description":"One of a server-defined set of error codes.","type":"string"},"details":{"description":"Detailed errors.","items":{"$ref":"#/components/schemas/DefaultErrorResponse"},"type":"array"},"message":{"description":"A human-readable representation of the error.","type":"string"},"target":{"description":"The target of the particular error.","type":"string"}},"type":"object"},"DeploymentScript":{"allOf":[{"$ref":"#/components/schemas/AzureResourceBase"}],"description":"Deployment script object.","discriminator":{"propertyName":"kind"},"properties":{"identity":{"$ref":"#/components/schemas/ManagedServiceIdentity"},"kind":{"description":"Type of the script.","enum":["AzurePowerShell","AzureCLI"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ScriptType"}},"location":{"description":"The location of the ACI and the storage account for the deployment script.","type":"string","x-ms-mutability":["read","create"]},"tags":{"additionalProperties":{"type":"string"},"description":"Resource tags.","type":"object"}},"required":["identity","location","kind"],"type":"object"},"DeploymentScriptListResult":{"description":"List of deployment scripts.","properties":{"nextLink":{"description":"The URL to use for getting the next set of results.","readOnly":true,"type":"string"},"value":{"description":"An array of deployment scripts.","items":{"$ref":"#/components/schemas/DeploymentScript"},"type":"array"}}},"DeploymentScriptPropertiesBase":{"description":"Common properties for the deployment script.","properties":{"cleanupPreference":{"description":"The clean up preference when the script execution gets in a terminal state. Default setting is 'Always'.","enum":["Always","OnSuccess","OnExpiration"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"cleanupOptions"}},"outputs":{"additionalProperties":{"description":"Script output in <name, value> pair.","type":"object"},"description":"List of script outputs.","readOnly":true,"type":"object"},"provisioningState":{"description":"State of the script execution. This only appears in the response.","enum":["Creating","ProvisioningResources","Running","Succeeded","Failed","Canceled"],"readOnly":true,"type":"string","x-ms-enum":{"modelAsString":true,"name":"ScriptProvisioningState"}},"status":{"$ref":"#/components/schemas/ScriptStatus"}},"type":"object","x-ms-external":true},"DeploymentScriptUpdateParameter":{"allOf":[{"$ref":"#/components/schemas/AzureResourceBase"}],"description":"Deployment script parameters to be updated. ","properties":{"tags":{"additionalProperties":{"type":"string"},"description":"Resource tags to be updated.","type":"object"}},"type":"object"},"EnvironmentVariable":{"description":"The environment variable to pass to the script in the container instance.","properties":{"name":{"description":"The name of the environment variable.","type":"string"},"secureValue":{"description":"The value of the secure environment variable.","type":"string"},"value":{"description":"The value of the environment variable.","type":"string"}},"required":["name"],"type":"object"},"LogProperties":{"description":"Script log properties.","properties":{"log":{"description":"Script execution logs in text format.","readOnly":true,"type":"string"}},"type":"object"},"ManagedServiceIdentity":{"description":"Managed identity generic object.","properties":{"type":{"description":"Type of the managed identity.","enum":["UserAssigned"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ManagedServiceIdentityType"}},"userAssignedIdentities":{"additionalProperties":{"$ref":"#/components/schemas/UserAssignedIdentity"},"description":"The list of user-assigned managed identities associated with the resource. Key is the Azure resource Id of the managed identity.","type":"object"}},"type":"object"},"ScriptConfigurationBase":{"description":"Common configuration settings for both Azure PowerShell and Azure CLI scripts.","properties":{"arguments":{"description":"Command line arguments to pass to the script. Arguments are separated by spaces. ex: -Name blue* -Location 'West US 2' ","type":"string"},"environmentVariables":{"description":"The environment variables to pass over to the script.","items":{"$ref":"#/components/schemas/EnvironmentVariable"},"type":"array"},"forceUpdateTag":{"description":"Gets or sets how the deployment script should be forced to execute even if the script resource has not changed. Can be current time stamp or a GUID.","type":"string"},"primaryScriptUri":{"description":"Uri for the script. This is the entry point for the external script.","type":"string"},"retentionInterval":{"description":"Interval for which the service retains the script resource after it reaches a terminal state. Resource will be deleted when this duration expires. Duration is based on ISO 8601 pattern (for example P7D means one week).","format":"duration","type":"string"},"scriptContent":{"description":"Script body.","maxLength":32000,"type":"string"},"supportingScriptUris":{"description":"Supporting files for the external script.","items":{"description":"Supporting file Uri.","type":"string"},"type":"array"},"timeout":{"description":"Maximum allowed script execution time specified in ISO 8601 format. Default value is PT1H","format":"duration","type":"string"}},"required":["retentionInterval"],"type":"object","x-ms-external":true},"ScriptLog":{"allOf":[{"$ref":"#/components/schemas/AzureResourceBase"}],"description":"Script execution log object.","properties":{"properties":{"$ref":"#/components/schemas/LogProperties"}},"type":"object"},"ScriptLogsList":{"description":"Deployment script execution logs.","properties":{"value":{"description":"Deployment scripts logs.","items":{"$ref":"#/components/schemas/ScriptLog"},"type":"array"}}},"ScriptStatus":{"description":"Generic object modeling results of script execution.","properties":{"containerInstanceId":{"description":"ACI resource Id.","readOnly":true,"type":"string"},"endTime":{"description":"End time of the script execution.","format":"date-time","readOnly":true,"type":"string"},"error":{"$ref":"#/components/schemas/DefaultErrorResponse"},"expirationTime":{"description":"Time the deployment script resource will expire.","format":"date-time","readOnly":true,"type":"string"},"startTime":{"description":"Start time of the script execution.","format":"date-time","readOnly":true,"type":"string"},"storageAccountId":{"description":"Storage account resource Id.","readOnly":true,"type":"string"}},"type":"object"},"UserAssignedIdentity":{"description":"User-assigned managed identity.","properties":{"clientId":{"description":"Client App Id associated with this identity.","type":"string"},"principalId":{"description":"Azure Active Directory principal ID associated with this identity.","type":"string"}},"type":"object"}}}}