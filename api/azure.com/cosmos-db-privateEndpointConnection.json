{"openapi":"3.0.0","info":{"description":"Azure Cosmos DB Database Service Resource Provider REST API","title":"Cosmos DB","version":"2019-08-01-preview","x-apisguru-categories":["cloud"],"x-logo":{"url":"https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png"},"x-origin":[{"format":"swagger","url":"https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/cosmos-db/resource-manager/Microsoft.DocumentDB/preview/2019-08-01-preview/privateEndpointConnection.json","version":"2.0"}],"x-providerName":"azure.com","x-serviceName":"cosmos-db-privateEndpointConnection","x-tags":["Azure","Microsoft"]},"security":[{"azure_auth":["user_impersonation"]}],"paths":{"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DocumentDB/databaseAccounts/{accountName}/privateEndpointConnections":{"get":{"description":"List all private endpoint connections on a Cosmos DB account.","operationId":"PrivateEndpointConnections_ListByDatabaseAccount","parameters":[{"description":"The ID of the target subscription.","in":"path","name":"subscriptionId","required":true,"schema":{"type":"string","minLength":1},"examples":{"Gets private endpoint connection.":{"value":"00000000-1111-2222-3333-444444444444"}}},{"description":"The name of the resource group. The name is case insensitive.","in":"path","name":"resourceGroupName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":1,"maxLength":90,"pattern":"^[-\\w\\._\\(\\)]+$"},"examples":{"Gets private endpoint connection.":{"value":"rg1"}}},{"description":"The API version to use for this operation.","in":"query","name":"api-version","required":true,"schema":{"type":"string","minLength":1},"examples":{"Gets private endpoint connection.":{"value":"2019-08-01-preview"}}},{"$ref":"#/components/parameters/accountNameParameter"}],"responses":{"200":{"description":"Successfully retrieved private endpoint connections.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateEndpointConnectionListResult"},"examples":{"Gets private endpoint connection.":{"$ref":"#/components/examples/Gets_private_endpoint_connection."}}}}}},"tags":["PrivateEndpointConnections"],"x-ms-pageable":{}}},"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DocumentDB/databaseAccounts/{accountName}/privateEndpointConnections/{privateEndpointConnectionName}":{"delete":{"description":"Deletes a private endpoint connection with a given name.","operationId":"PrivateEndpointConnections_Delete","parameters":[{"description":"The ID of the target subscription.","in":"path","name":"subscriptionId","required":true,"schema":{"type":"string","minLength":1},"examples":{"Deletes a private endpoint connection with a given name.":{"value":"00000000-1111-2222-3333-444444444444"}}},{"description":"The name of the resource group. The name is case insensitive.","in":"path","name":"resourceGroupName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":1,"maxLength":90,"pattern":"^[-\\w\\._\\(\\)]+$"},"examples":{"Deletes a private endpoint connection with a given name.":{"value":"rg1"}}},{"description":"The API version to use for this operation.","in":"query","name":"api-version","required":true,"schema":{"type":"string","minLength":1},"examples":{"Deletes a private endpoint connection with a given name.":{"value":"2019-08-01-preview"}}},{"$ref":"#/components/parameters/accountNameParameter"},{"$ref":"#/components/parameters/PrivateEndpointConnectionNameParameter"}],"responses":{"202":{"description":"Accepted. The private endpoint connection delete will complete asynchronously."},"204":{"description":"Private endpoint connection does not exist."},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"tags":["PrivateEndpointConnections"],"x-ms-long-running-operation":true},"get":{"description":"Gets a private endpoint connection.","operationId":"PrivateEndpointConnections_Get","parameters":[{"description":"The ID of the target subscription.","in":"path","name":"subscriptionId","required":true,"schema":{"type":"string","minLength":1},"examples":{"Gets private endpoint connection.":{"value":"00000000-1111-2222-3333-444444444444"}}},{"description":"The name of the resource group. The name is case insensitive.","in":"path","name":"resourceGroupName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":1,"maxLength":90,"pattern":"^[-\\w\\._\\(\\)]+$"},"examples":{"Gets private endpoint connection.":{"value":"rg1"}}},{"description":"The API version to use for this operation.","in":"query","name":"api-version","required":true,"schema":{"type":"string","minLength":1},"examples":{"Gets private endpoint connection.":{"value":"2019-08-01-preview"}}},{"$ref":"#/components/parameters/accountNameParameter"},{"$ref":"#/components/parameters/PrivateEndpointConnectionNameParameter"}],"responses":{"200":{"description":"Successfully retrieved a specified private endpoint connection.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateEndpointConnection"},"examples":{"Gets private endpoint connection.":{"$ref":"#/components/examples/Gets_private_endpoint_connection."}}}}}},"tags":["PrivateEndpointConnections"]},"put":{"description":"Approve or reject a private endpoint connection with a given name.","operationId":"PrivateEndpointConnections_CreateOrUpdate","parameters":[{"description":"The ID of the target subscription.","in":"path","name":"subscriptionId","required":true,"schema":{"type":"string","minLength":1},"examples":{"Approve or reject a private endpoint connection with a given name.":{"value":"00000000-1111-2222-3333-444444444444"}}},{"description":"The name of the resource group. The name is case insensitive.","in":"path","name":"resourceGroupName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":1,"maxLength":90,"pattern":"^[-\\w\\._\\(\\)]+$"},"examples":{"Approve or reject a private endpoint connection with a given name.":{"value":"rg1"}}},{"description":"The API version to use for this operation.","in":"query","name":"api-version","required":true,"schema":{"type":"string","minLength":1},"examples":{"Approve or reject a private endpoint connection with a given name.":{"value":"2019-08-01-preview"}}},{"$ref":"#/components/parameters/accountNameParameter"},{"$ref":"#/components/parameters/PrivateEndpointConnectionNameParameter"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateEndpointConnection"}}},"required":true},"responses":{"200":{"description":"Successfully approved or rejected private endpoint connection.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateEndpointConnection"},"examples":{"Approve or reject a private endpoint connection with a given name.":{"$ref":"#/components/examples/Approve_or_reject_a_private_endpoint_connection_with_a_given_name."}}}}},"202":{"description":"Accepted. The private endpoint connection update will complete asynchronously."},"default":{"description":"Error response describing why the operation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"tags":["PrivateEndpointConnections"],"x-ms-long-running-operation":true}}},"servers":[{"url":"https://management.azure.com"}],"components":{"examples":{"Gets_private_endpoint_connection.":{"value":{"id":"/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/rg1/providers/Microsoft.DocumentDb/databaseAccounts/ddb1/privateEndpointConnections/privateEndpointConnectionName","name":"privateEndpointConnectionName","properties":{"privateEndpoint":{"id":"/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/rg1Network/providers/Microsoft.Network/privateEndpoints/privateEndpointName"},"privateLinkServiceConnectionState":{"actionsRequired":"None","description":"Auto-approved","status":"Approved"}},"type":"Microsoft.DocumentDb/databaseAccounts/privateEndpointConnections"}},"Approve_or_reject_a_private_endpoint_connection_with_a_given_name.":{"value":{"id":"/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/rg1/providers/Microsoft.DocumentDb/databaseAccounts/ddb1/privateEndpointConnections/privateEndpointConnectionName","name":"privateEndpointConnectionName","properties":{"privateEndpoint":{"id":"/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/rg1Network/providers/Microsoft.Network/privateEndpoints/privateEndpointName"},"privateLinkServiceConnectionState":{"actionsRequired":"None","description":"Auto-approved","status":"Approved"}},"type":"Microsoft.DocumentDb/databaseAccounts/privateEndpointConnections"}}},"parameters":{"PrivateEndpointConnectionNameParameter":{"description":"The name of the private endpoint connection.","in":"path","name":"privateEndpointConnectionName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string"},"examples":{"Deletes a private endpoint connection with a given name.":{"value":"privateEndpointConnectionName"},"Gets private endpoint connection.":{"value":"privateEndpointConnectionName"},"Approve or reject a private endpoint connection with a given name.":{"value":"privateEndpointConnectionName"}}},"accountNameParameter":{"description":"Cosmos DB database account name.","in":"path","name":"accountName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string","minLength":3,"maxLength":50,"pattern":"^[a-z0-9]+(-[a-z0-9]+)*"},"examples":{"Gets private endpoint connection.":{"value":"ddb1"},"Deletes a private endpoint connection with a given name.":{"value":"ddb1"},"Approve or reject a private endpoint connection with a given name.":{"value":"ddb1"}}}},"securitySchemes":{"azure_auth":{"description":"Azure Active Directory OAuth2 Flow","type":"oauth2","flows":{"implicit":{"authorizationUrl":"https://login.microsoftonline.com/common/oauth2/authorize","scopes":{"user_impersonation":"Impersonate your user account"}}}}},"schemas":{"ErrorResponse":{"description":"Error Response.","properties":{"code":{"description":"Error code.","type":"string"},"message":{"description":"Error message indicating why the operation failed.","type":"string"}}},"PrivateEndpointConnection":{"allOf":[{"allOf":[{"properties":{"id":{"description":"Fully qualified resource Id for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}","readOnly":true,"type":"string"},"name":{"description":"The name of the resource","readOnly":true,"type":"string"},"type":{"description":"The type of the resource. Ex- Microsoft.Compute/virtualMachines or Microsoft.Storage/storageAccounts.","readOnly":true,"type":"string"}},"x-ms-azure-resource":true}],"description":"The resource model definition for a ARM proxy resource. It will have everything other than required location and tags"}],"description":"A private endpoint connection","properties":{"properties":{"$ref":"#/components/schemas/PrivateEndpointConnectionProperties"}},"type":"object"},"PrivateEndpointConnectionListResult":{"description":"A list of private endpoint connections","properties":{"value":{"description":"Array of private endpoint connections","items":{"$ref":"#/components/schemas/PrivateEndpointConnection"},"type":"array"}},"type":"object"},"PrivateEndpointConnectionProperties":{"description":"Properties of a private endpoint connection.","properties":{"privateEndpoint":{"$ref":"#/components/schemas/PrivateEndpointProperty"},"privateLinkServiceConnectionState":{"$ref":"#/components/schemas/PrivateLinkServiceConnectionStateProperty"}},"type":"object"},"PrivateEndpointProperty":{"description":"Private endpoint which the connection belongs to.","properties":{"id":{"description":"Resource id of the private endpoint.","type":"string"}},"type":"object"},"PrivateLinkServiceConnectionStateProperty":{"description":"Connection State of the Private Endpoint Connection.","properties":{"actionsRequired":{"description":"Any action that is required beyond basic workflow (approve/ reject/ disconnect)","readOnly":true,"type":"string"},"description":{"description":"The private link service connection description.","type":"string"},"status":{"description":"The private link service connection status.","type":"string"}},"type":"object"}}}}