{"openapi":"3.0.0","info":{"title":"RecoveryServicesBackupClient","version":"2017-07-01","x-apisguru-categories":["cloud"],"x-logo":{"url":"https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png"},"x-origin":[{"format":"swagger","url":"https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/recoveryservicesbackup/resource-manager/Microsoft.RecoveryServices/stable/2017-07-01/bms.json","version":"2.0"}],"x-preferred":true,"x-providerName":"azure.com","x-serviceName":"recoveryservicesbackup-bms","x-tags":["Azure","Microsoft"]},"security":[{"azure_auth":["user_impersonation"]}],"paths":{"/Subscriptions/{subscriptionId}/providers/Microsoft.RecoveryServices/locations/{azureRegion}/backupPreValidateProtection":{"post":{"operationId":"ProtectionIntent_Validate","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/AzureRegion"},{"$ref":"#/components/parameters/SubscriptionId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreValidateEnableBackupRequest"}}},"description":"Enable backup validation request on Virtual Machine","required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreValidateEnableBackupResponse"},"examples":{"Validate Enable Protection on Azure Vm":{"$ref":"#/components/examples/Validate_Enable_Protection_on_Azure_Vm"}}}}}},"summary":"It will validate followings\r\n1. Vault capacity\r\n2. VM is already protected\r\n3. Any VM related configuration passed in properties.","tags":["ProtectionIntent"]}},"/Subscriptions/{subscriptionId}/providers/Microsoft.RecoveryServices/locations/{azureRegion}/backupStatus":{"post":{"operationId":"BackupStatus_Get","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/AzureRegion"},{"$ref":"#/components/parameters/SubscriptionId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupStatusRequest"}}},"description":"Container Backup Status Request","required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupStatusResponse"},"examples":{"Get Azure Virtual Machine Backup Status":{"$ref":"#/components/examples/Get_Azure_Virtual_Machine_Backup_Status"}}}}}},"summary":"Get the container backup status","tags":["BackupStatus"]}},"/Subscriptions/{subscriptionId}/providers/Microsoft.RecoveryServices/locations/{azureRegion}/backupValidateFeatures":{"post":{"operationId":"FeatureSupport_Validate","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/AzureRegion"},{"$ref":"#/components/parameters/SubscriptionId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeatureSupportRequest"}}},"description":"Feature support request object","required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AzureVMResourceFeatureSupportResponse"},"examples":{"Check Azure Vm Backup Feature Support":{"$ref":"#/components/examples/Check_Azure_Vm_Backup_Feature_Support"}}}}}},"summary":"It will validate if given feature with resource properties is supported in service","tags":["FeatureSupport"]}},"/Subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.RecoveryServices/vaults/{vaultName}/backupFabrics/{fabricName}/backupProtectionIntent/{intentObjectName}":{"delete":{"description":"Used to remove intent from an item","operationId":"ProtectionIntent_Delete","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/VaultName"},{"$ref":"#/components/parameters/ResourceGroupName"},{"$ref":"#/components/parameters/SubscriptionId"},{"description":"Fabric name associated with the intent.","in":"path","name":"fabricName","required":true,"schema":{"type":"string"},"examples":{"Delete Protection intent from item":{"value":"Azure"}}},{"description":"Intent to be deleted.","in":"path","name":"intentObjectName","required":true,"schema":{"type":"string"},"examples":{"Delete Protection intent from item":{"value":"249D9B07-D2EF-4202-AA64-65F35418564E"}}}],"responses":{"204":{"description":"NoContent"}},"tags":["ProtectionIntent"]},"get":{"description":"Provides the details of the protection intent up item. This is an asynchronous operation. To know the status of the operation,\r\ncall the GetItemOperationResult API.","operationId":"ProtectionIntent_Get","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/VaultName"},{"$ref":"#/components/parameters/ResourceGroupName"},{"$ref":"#/components/parameters/SubscriptionId"},{"description":"Fabric name associated with the backed up item.","in":"path","name":"fabricName","required":true,"schema":{"type":"string"},"examples":{"Get ProtectionIntent for an item":{"value":"Azure"}}},{"description":"Backed up item name whose details are to be fetched.","in":"path","name":"intentObjectName","required":true,"schema":{"type":"string"},"examples":{"Get ProtectionIntent for an item":{"value":"249D9B07-D2EF-4202-AA64-65F35418564E"}}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProtectionIntentResource"},"examples":{"Get ProtectionIntent for an item":{"$ref":"#/components/examples/Get_ProtectionIntent_for_an_item"}}}}}},"tags":["ProtectionIntent"]},"put":{"description":"Create Intent for Enabling backup of an item. This is a synchronous operation.","operationId":"ProtectionIntent_CreateOrUpdate","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/VaultName"},{"$ref":"#/components/parameters/ResourceGroupName"},{"$ref":"#/components/parameters/SubscriptionId"},{"description":"Fabric name associated with the backup item.","in":"path","name":"fabricName","required":true,"schema":{"type":"string"},"examples":{"Create or Update Azure Vm Protection Intent":{"value":"Azure"}}},{"description":"Intent object name.","in":"path","name":"intentObjectName","required":true,"schema":{"type":"string"},"examples":{"Create or Update Azure Vm Protection Intent":{"value":"vm;iaasvmcontainerv2;chamsrgtest;chamscandel"}}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProtectionIntentResource"}}},"description":"resource backed up item","required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProtectionIntentResource"},"examples":{"Create or Update Azure Vm Protection Intent":{"$ref":"#/components/examples/Create_or_Update_Azure_Vm_Protection_Intent"}}}}}},"tags":["ProtectionIntent"]}},"/Subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.RecoveryServices/vaults/{vaultName}/backupProtectionIntents":{"get":{"description":"Provides a pageable list of all intents that are present within a vault.","operationId":"BackupProtectionIntent_List","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/VaultName"},{"$ref":"#/components/parameters/ResourceGroupName"},{"$ref":"#/components/parameters/SubscriptionId"},{"description":"OData filter options.","in":"query","name":"$filter","required":false,"schema":{"type":"string"}},{"description":"skipToken Filter.","in":"query","name":"$skipToken","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProtectionIntentResourceList"},"examples":{"List protection intent with backupManagementType filter":{"$ref":"#/components/examples/List_protection_intent_with_backupManagementType_filter"}}}}}},"tags":["BackupProtectionIntent"],"x-ms-odata":"#/components/schemas/ProtectionIntentQueryObject","x-ms-pageable":{"nextLinkName":"nextLink"}}},"/Subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.RecoveryServices/vaults/{vaultName}/backupUsageSummaries":{"get":{"description":"Fetches the backup management usage summaries of the vault.","operationId":"BackupUsageSummaries_List","parameters":[{"$ref":"#/components/parameters/ApiVersion"},{"$ref":"#/components/parameters/VaultName"},{"$ref":"#/components/parameters/ResourceGroupName"},{"$ref":"#/components/parameters/SubscriptionId"},{"description":"OData filter options.","in":"query","name":"$filter","required":false,"schema":{"type":"string"},"examples":{"Get Protected Containers Usages Summary":{"value":"type eq 'BackupProtectionContainerCountSummary'"},"Get Protected Items Usages Summary":{"value":"type eq 'BackupProtectedItemCountSummary'"}}},{"description":"skipToken Filter.","in":"query","name":"$skipToken","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupManagementUsageList"},"examples":{"Get Protected Containers Usages Summary":{"$ref":"#/components/examples/Get_Protected_Containers_Usages_Summary"},"Get Protected Items Usages Summary":{"$ref":"#/components/examples/Get_Protected_Items_Usages_Summary"}}}}}},"tags":["BackupUsageSummaries"],"x-ms-odata":"#/components/schemas/BMSBackupSummariesQueryObject","x-ms-pageable":{}}}},"servers":[{"url":"https://management.azure.com"}],"components":{"examples":{"Validate_Enable_Protection_on_Azure_Vm":{"value":{"containerName":"iaasvmcontainer;iaasvmcontainerv2;arunaupgrade;upgrade1","errorCode":"VirtualMachineAlreadyProtected","errorMessage":"Virtual machine with same name and same resource group is already protected. Please select `Disable' choice above for backup and go to backup item corresponding to this VM in the vault","protectedItemName":"vm;iaasvmcontainerv2;arunaupgrade;upgrade1","recommendation":"Please do not enable protection again.","status":"Failed"}},"Get_Azure_Virtual_Machine_Backup_Status":{"value":{"containerName":"iaasvmcontainer;iaasvmcontainerv2;testRg;testVm","errorCode":"Success","errorMessage":"ErrorMessage","fabricName":"Azure","policyName":"myPolicy","protectedItemName":"vm;iaasvmcontainerv2;testRg;testVm","protectionStatus":"Protected","vaultId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testRg/providers/Microsoft.RecoveryServices/Vaults/testVault"}},"Check_Azure_Vm_Backup_Feature_Support":{"value":{"supportStatus":"DefaultOFF"}},"Get_ProtectionIntent_for_an_item":{"value":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupFabrics/Azure/backupProtectionIntent/249D9B07-D2EF-4202-AA64-65F35418564E","name":"249D9B07-D2EF-4202-AA64-65F35418564E","properties":{"backupManagementType":"AzureWorkload","itemId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupProtectionContainer/VMAppContainer;Compute;testVmName/backupProtectableItems/SQLInstance;MSSQLSERVER","policyId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupPolicies/myPolicy"},"type":"Microsoft.RecoveryServices/vaults/backupProtectionIntent"}},"Create_or_Update_Azure_Vm_Protection_Intent":{"value":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupFabrics/Azure/backupProtectionIntent/vm;iaasvmcontainerv2;chamsrgtest;chamscandel","name":"vm;iaasvmcontainerv2;chamsrgtest;chamscandel","properties":{"backupManagementType":"AzureIaasVM","policyId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupPolicies/myPolicy","protectionState":"Protected"},"type":"Microsoft.RecoveryServices/vaults/backupProtectionIntent"}},"List_protection_intent_with_backupManagementType_filter":{"value":{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupFabrics/Azure/backupProtectionIntent/249D9B07-D2EF-4202-AA64-65F35418564E","name":"249D9B07-D2EF-4202-AA64-65F35418564E","properties":{"backupManagementType":"AzureWorkload","itemId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupProtectionContainer/VMAppContainer;Compute;testVmName/backupProtectableItems/SQLInstance;MSSQLSERVER","policyId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testRG/providers/Microsoft.RecoveryServices/vaults/myVault/backupPolicies/myPolicy"},"type":"Microsoft.RecoveryServices/vaults/backupProtectionIntent"}]}},"Get_Protected_Containers_Usages_Summary":{"value":{"value":[{"currentValue":2,"limit":-1,"name":{"localizedValue":"Azure Backup Server","value":"AzureBackupServer"},"unit":"Count"},{"currentValue":3,"limit":-1,"name":{"localizedValue":"Azure Backup Agent","value":"MAB"},"unit":"Count"},{"currentValue":1,"limit":-1,"name":{"localizedValue":"SQL in Azure VM","value":"AzureWorkload"},"unit":"Count"}]}},"Get_Protected_Items_Usages_Summary":{"value":{"value":[{"currentValue":7,"limit":-1,"name":{"localizedValue":"Azure Virtual Machine","value":"AzureIaasVM"},"unit":"Count"},{"currentValue":3,"limit":-1,"name":{"localizedValue":"Azure Backup Agent","value":"MAB"},"unit":"Count"},{"currentValue":1,"limit":-1,"name":{"localizedValue":"Azure Backup Server","value":"AzureBackupServer"},"unit":"Count"},{"currentValue":2,"limit":-1,"name":{"localizedValue":"Azure Storage (Azure Files)","value":"AzureStorage"},"unit":"Count"},{"currentValue":2,"limit":-1,"name":{"localizedValue":"SQL in Azure VM","value":"AzureWorkload"},"unit":"Count"}]}}},"parameters":{"ApiVersion":{"description":"Client Api Version.","in":"query","name":"api-version","required":true,"schema":{"type":"string"},"examples":{"Validate Enable Protection on Azure Vm":{"value":"2017-07-01"},"Get Azure Virtual Machine Backup Status":{"value":"2017-07-01"},"Check Azure Vm Backup Feature Support":{"value":"2017-07-01"},"Delete Protection intent from item":{"value":"2017-07-01"},"Get ProtectionIntent for an item":{"value":"2017-07-01"},"Create or Update Azure Vm Protection Intent":{"value":"2017-07-01"},"List protection intent with backupManagementType filter":{"value":"2017-07-01"},"Get Protected Containers Usages Summary":{"value":"2017-07-01"},"Get Protected Items Usages Summary":{"value":"2017-07-01"}}},"AzureRegion":{"description":"Azure region to hit Api","in":"path","name":"azureRegion","required":true,"x-ms-parameter-location":"method","schema":{"type":"string"},"examples":{"Validate Enable Protection on Azure Vm":{"value":"southeastasia"},"Get Azure Virtual Machine Backup Status":{"value":"southeastasia"},"Check Azure Vm Backup Feature Support":{"value":"southeastasia"}}},"ResourceGroupName":{"description":"The name of the resource group where the recovery services vault is present.","in":"path","name":"resourceGroupName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string"},"examples":{"Delete Protection intent from item":{"value":"myRG"},"Get ProtectionIntent for an item":{"value":"myRG"},"Create or Update Azure Vm Protection Intent":{"value":"myRG"},"List protection intent with backupManagementType filter":{"value":"myRG"},"Get Protected Containers Usages Summary":{"value":"testRG"},"Get Protected Items Usages Summary":{"value":"testRG"}}},"SubscriptionId":{"description":"The subscription Id.","in":"path","name":"subscriptionId","required":true,"schema":{"type":"string"},"examples":{"Validate Enable Protection on Azure Vm":{"value":"00000000-0000-0000-0000-000000000000"},"Get Azure Virtual Machine Backup Status":{"value":"00000000-0000-0000-0000-000000000000"},"Check Azure Vm Backup Feature Support":{"value":"00000000-0000-0000-0000-000000000000"},"Delete Protection intent from item":{"value":"00000000-0000-0000-0000-000000000000"},"Get ProtectionIntent for an item":{"value":"00000000-0000-0000-0000-000000000000"},"Create or Update Azure Vm Protection Intent":{"value":"00000000-0000-0000-0000-000000000000"},"List protection intent with backupManagementType filter":{"value":"00000000-0000-0000-0000-000000000000"},"Get Protected Containers Usages Summary":{"value":"00000000-0000-0000-0000-000000000000"},"Get Protected Items Usages Summary":{"value":"00000000-0000-0000-0000-000000000000"}}},"VaultName":{"description":"The name of the recovery services vault.","in":"path","name":"vaultName","required":true,"x-ms-parameter-location":"method","schema":{"type":"string"},"examples":{"Delete Protection intent from item":{"value":"myVault"},"Get ProtectionIntent for an item":{"value":"myVault"},"Create or Update Azure Vm Protection Intent":{"value":"myVault"},"List protection intent with backupManagementType filter":{"value":"myVault"},"Get Protected Containers Usages Summary":{"value":"testVault"},"Get Protected Items Usages Summary":{"value":"testVault"}}}},"securitySchemes":{"azure_auth":{"description":"Azure Active Directory OAuth2 Flow","type":"oauth2","flows":{"implicit":{"authorizationUrl":"https://login.microsoftonline.com/common/oauth2/authorize","scopes":{"user_impersonation":"impersonate your user account."}}}}},"schemas":{"AzureBackupGoalFeatureSupportRequest":{"allOf":[{"$ref":"#/components/schemas/FeatureSupportRequest"}],"description":"Azure backup goal feature specific request.","type":"object","x-ms-discriminator-value":"AzureBackupGoals"},"AzureIaaSVMErrorInfo":{"description":"Azure IaaS VM workload-specific error information.","properties":{"errorCode":{"description":"Error code.","format":"int32","readOnly":true,"type":"integer"},"errorString":{"description":"Localized error string.","readOnly":true,"type":"string"},"errorTitle":{"description":"Title: Typically, the entity that the error pertains to.","readOnly":true,"type":"string"},"recommendations":{"description":"List of localized recommendations for above error code.","items":{"type":"string"},"readOnly":true,"type":"array"}},"type":"object"},"AzureIaaSVMJob":{"allOf":[{"$ref":"#/components/schemas/Job"}],"description":"Azure IaaS VM workload-specific job object.","properties":{"actionsInfo":{"description":"Gets or sets the state/actions applicable on this job like cancel/retry.","items":{"enum":["Invalid","Cancellable","Retriable"],"type":"string","x-ms-enum":{"modelAsString":false,"name":"JobSupportedAction"}},"type":"array"},"duration":{"description":"Time elapsed during the execution of this job.","format":"duration","type":"string"},"errorDetails":{"description":"Error details on execution of this job.","items":{"$ref":"#/components/schemas/AzureIaaSVMErrorInfo"},"type":"array"},"extendedInfo":{"$ref":"#/components/schemas/AzureIaaSVMJobExtendedInfo"},"virtualMachineVersion":{"description":"Specifies whether the backup item is a Classic or an Azure Resource Manager VM.","type":"string"}},"type":"object","x-ms-discriminator-value":"AzureIaaSVMJob"},"AzureIaaSVMJobExtendedInfo":{"description":"Azure IaaS VM workload-specific additional information for job.","properties":{"dynamicErrorMessage":{"description":"Non localized error message on job execution.","type":"string"},"estimatedRemainingDuration":{"description":"Time remaining for execution of this job.","type":"string"},"internalPropertyBag":{"additionalProperties":{"type":"string"},"description":"Job internal properties.","type":"object"},"progressPercentage":{"description":"Indicates progress of the job. Null if it has not started or completed.","format":"double","type":"number"},"propertyBag":{"additionalProperties":{"type":"string"},"description":"Job properties.","type":"object"},"tasksList":{"description":"List of tasks associated with this job.","items":{"$ref":"#/components/schemas/AzureIaaSVMJobTaskDetails"},"type":"array"}},"type":"object"},"AzureIaaSVMJobTaskDetails":{"description":"Azure IaaS VM workload-specific job task details.","properties":{"duration":{"description":"Time elapsed for task.","format":"duration","type":"string"},"endTime":{"description":"The end time.","format":"date-time","type":"string"},"instanceId":{"description":"The instanceId.","type":"string"},"progressPercentage":{"description":"Progress of the task.","format":"double","type":"number"},"startTime":{"description":"The start time.","format":"date-time","type":"string"},"status":{"description":"The status.","type":"string"},"taskExecutionDetails":{"description":"Details about execution of the task.\r\neg: number of bytes transferred etc","type":"string"},"taskId":{"description":"The task display name.","type":"string"}},"type":"object"},"AzureRecoveryServiceVaultProtectionIntent":{"allOf":[{"$ref":"#/components/schemas/ProtectionIntent"}],"description":"Azure Recovery Services Vault specific protection intent item.","type":"object","x-ms-discriminator-value":"RecoveryServiceVaultItem"},"AzureResourceProtectionIntent":{"allOf":[{"$ref":"#/components/schemas/ProtectionIntent"}],"description":"IaaS VM specific backup protection intent item.","properties":{"friendlyName":{"description":"Friendly name of the VM represented by this backup item.","type":"string"}},"type":"object","x-ms-discriminator-value":"AzureResourceItem"},"AzureStorageErrorInfo":{"description":"Azure storage specific error information","properties":{"errorCode":{"description":"Error code.","format":"int32","type":"integer"},"errorString":{"description":"Localized error string.","type":"string"},"recommendations":{"description":"List of localized recommendations for above error code.","items":{"type":"string"},"type":"array"}},"type":"object"},"AzureStorageJob":{"allOf":[{"$ref":"#/components/schemas/Job"}],"description":"Azure storage specific job.","properties":{"actionsInfo":{"description":"Gets or sets the state/actions applicable on this job like cancel/retry.","items":{"enum":["Invalid","Cancellable","Retriable"],"type":"string","x-ms-enum":{"modelAsString":false,"name":"JobSupportedAction"}},"type":"array"},"duration":{"description":"Time elapsed during the execution of this job.","format":"duration","type":"string"},"errorDetails":{"description":"Error details on execution of this job.","items":{"$ref":"#/components/schemas/AzureStorageErrorInfo"},"type":"array"},"extendedInfo":{"$ref":"#/components/schemas/AzureStorageJobExtendedInfo"},"storageAccountName":{"description":"Specifies friendly name of the storage account.","type":"string"},"storageAccountVersion":{"description":"Specifies whether the Storage account is a Classic or an Azure Resource Manager Storage account.","type":"string"}},"type":"object","x-ms-discriminator-value":"AzureStorageJob"},"AzureStorageJobExtendedInfo":{"description":"Azure Storage workload-specific additional information for job.","properties":{"dynamicErrorMessage":{"description":"Non localized error message on job execution.","type":"string"},"propertyBag":{"additionalProperties":{"type":"string"},"description":"Job properties.","type":"object"},"tasksList":{"description":"List of tasks for this job","items":{"$ref":"#/components/schemas/AzureStorageJobTaskDetails"},"type":"array"}},"type":"object"},"AzureStorageJobTaskDetails":{"description":"Azure storage workload specific job task details.","properties":{"status":{"description":"The status.","type":"string"},"taskId":{"description":"The task display name.","type":"string"}},"type":"object"},"AzureVMResourceFeatureSupportRequest":{"allOf":[{"$ref":"#/components/schemas/FeatureSupportRequest"}],"description":"AzureResource(IaaS VM) Specific feature support request","properties":{"vmSize":{"description":"Size of the resource: VM size(A/D series etc) in case of IaasVM","type":"string"},"vmSku":{"description":"SKUs (Premium/Managed etc) in case of IaasVM","type":"string"}},"type":"object","x-ms-discriminator-value":"AzureVMResourceBackup"},"AzureVMResourceFeatureSupportResponse":{"description":"Response for feature support requests for Azure IaasVm","properties":{"supportStatus":{"description":"Support status of feature","enum":["Invalid","Supported","DefaultOFF","DefaultON","NotSupported"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"SupportStatus"}}},"type":"object"},"AzureWorkloadAutoProtectionIntent":{"allOf":[{"$ref":"#/components/schemas/AzureRecoveryServiceVaultProtectionIntent"}],"description":"Azure Recovery Services Vault specific protection intent item.","type":"object","x-ms-discriminator-value":"AzureWorkloadAutoProtectionIntent"},"AzureWorkloadErrorInfo":{"description":"Azure storage specific error information","properties":{"additionalDetails":{"description":"Additional details for above error code.","type":"string"},"errorCode":{"description":"Error code.","format":"int32","type":"integer"},"errorString":{"description":"Localized error string.","type":"string"},"errorTitle":{"description":"Title: Typically, the entity that the error pertains to.","type":"string"},"recommendations":{"description":"List of localized recommendations for above error code.","items":{"type":"string"},"type":"array"}},"type":"object"},"AzureWorkloadJob":{"allOf":[{"$ref":"#/components/schemas/Job"}],"description":"Azure storage specific job.","properties":{"actionsInfo":{"description":"Gets or sets the state/actions applicable on this job like cancel/retry.","items":{"enum":["Invalid","Cancellable","Retriable"],"type":"string","x-ms-enum":{"modelAsString":false,"name":"JobSupportedAction"}},"type":"array"},"duration":{"description":"Time elapsed during the execution of this job.","format":"duration","type":"string"},"errorDetails":{"description":"Error details on execution of this job.","items":{"$ref":"#/components/schemas/AzureWorkloadErrorInfo"},"type":"array"},"extendedInfo":{"$ref":"#/components/schemas/AzureWorkloadJobExtendedInfo"},"workloadType":{"description":"Workload type of the job","type":"string"}},"type":"object","x-ms-discriminator-value":"AzureWorkloadJob"},"AzureWorkloadJobExtendedInfo":{"description":"Azure VM workload-specific additional information for job.","properties":{"dynamicErrorMessage":{"description":"Non localized error message on job execution.","type":"string"},"propertyBag":{"additionalProperties":{"type":"string"},"description":"Job properties.","type":"object"},"tasksList":{"description":"List of tasks for this job","items":{"$ref":"#/components/schemas/AzureWorkloadJobTaskDetails"},"type":"array"}},"type":"object"},"AzureWorkloadJobTaskDetails":{"description":"Azure VM workload specific job task details.","properties":{"status":{"description":"The status.","type":"string"},"taskId":{"description":"The task display name.","type":"string"}},"type":"object"},"AzureWorkloadSQLAutoProtectionIntent":{"allOf":[{"$ref":"#/components/schemas/AzureWorkloadAutoProtectionIntent"}],"description":"Azure Workload SQL Auto Protection intent item.","properties":{"workloadItemType":{"description":"Workload item type of the item for which intent is to be set","enum":["Invalid","SQLInstance","SQLDataBase","SAPHanaSystem","SAPHanaDatabase","SAPAseSystem","SAPAseDatabase"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"WorkloadItemType"}}},"type":"object","x-ms-discriminator-value":"AzureWorkloadSQLAutoProtectionIntent"},"BMSBackupSummariesQueryObject":{"description":"Query parameters to fetch backup summaries.","properties":{"type":{"description":"Backup management type for this container.","enum":["Invalid","BackupProtectedItemCountSummary","BackupProtectionContainerCountSummary"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"Type"}}},"type":"object"},"BackupManagementUsage":{"description":"Backup management usages of a vault.","properties":{"currentValue":{"description":"Current value of usage.","format":"int64","type":"integer"},"limit":{"description":"Limit of usage.","format":"int64","type":"integer"},"name":{"$ref":"#/components/schemas/NameInfo"},"nextResetTime":{"description":"Next reset time of usage.","format":"date-time","type":"string"},"quotaPeriod":{"description":"Quota period of usage.","type":"string"},"unit":{"description":"Unit of the usage.","enum":["Count","Bytes","Seconds","Percent","CountPerSecond","BytesPerSecond"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"UsagesUnit"}}},"type":"object"},"BackupManagementUsageList":{"description":"Backup management usage for vault.","properties":{"value":{"description":"The list of backup management usages for the given vault.","items":{"$ref":"#/components/schemas/BackupManagementUsage"},"type":"array"}},"type":"object"},"BackupStatusRequest":{"description":"BackupStatus request.","properties":{"poLogicalName":{"description":"Protectable Item Logical Name","type":"string"},"resourceId":{"description":"Entire ARM resource id of the resource","type":"string"},"resourceType":{"description":"Container Type - VM, SQLPaaS, DPM, AzureFileShare...","enum":["Invalid","VM","FileFolder","AzureSqlDb","SQLDB","Exchange","Sharepoint","VMwareVM","SystemState","Client","GenericDataSource","SQLDataBase","AzureFileShare","SAPHanaDatabase","SAPAseDatabase"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"DataSourceType"}}},"type":"object"},"BackupStatusResponse":{"description":"BackupStatus response.","properties":{"containerName":{"description":"Specifies the product specific container name. E.g. iaasvmcontainer;iaasvmcontainer;csname;vmname.","type":"string"},"errorCode":{"description":"ErrorCode in case of intent failed","type":"string"},"errorMessage":{"description":"ErrorMessage in case of intent failed.","type":"string"},"fabricName":{"description":"Specifies the fabric name - Azure or AD","enum":["Invalid","Azure"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"FabricName"}},"policyName":{"description":"Specifies the policy name which is used for protection","type":"string"},"protectedItemName":{"description":"Specifies the product specific ds name. E.g. vm;iaasvmcontainer;csname;vmname.","type":"string"},"protectionStatus":{"description":"Specifies whether the container is registered or not","enum":["Invalid","NotProtected","Protecting","Protected","ProtectionFailed"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ProtectionStatus"}},"registrationStatus":{"description":"Container registration status","type":"string"},"vaultId":{"description":"Specifies the arm resource id of the vault","type":"string"}},"type":"object"},"DpmErrorInfo":{"description":"DPM workload-specific error information.","properties":{"errorString":{"description":"Localized error string.","type":"string"},"recommendations":{"description":"List of localized recommendations for above error code.","items":{"type":"string"},"type":"array"}},"type":"object"},"DpmJob":{"allOf":[{"$ref":"#/components/schemas/Job"}],"description":"DPM workload-specific job object.","properties":{"actionsInfo":{"description":"The state/actions applicable on this job like cancel/retry.","items":{"enum":["Invalid","Cancellable","Retriable"],"type":"string","x-ms-enum":{"modelAsString":false,"name":"JobSupportedAction"}},"type":"array"},"containerName":{"description":"Name of cluster/server protecting current backup item, if any.","type":"string"},"containerType":{"description":"Type of container.","type":"string"},"dpmServerName":{"description":"DPM server name managing the backup item or backup job.","type":"string"},"duration":{"description":"Time elapsed for job.","format":"duration","type":"string"},"errorDetails":{"description":"The errors.","items":{"$ref":"#/components/schemas/DpmErrorInfo"},"type":"array"},"extendedInfo":{"$ref":"#/components/schemas/DpmJobExtendedInfo"},"workloadType":{"description":"Type of backup item.","type":"string"}},"type":"object","x-ms-discriminator-value":"DpmJob"},"DpmJobExtendedInfo":{"description":"Additional information on the DPM workload-specific job.","properties":{"dynamicErrorMessage":{"description":"Non localized error message on job execution.","type":"string"},"propertyBag":{"additionalProperties":{"type":"string"},"description":"The job properties.","type":"object"},"tasksList":{"description":"List of tasks associated with this job.","items":{"$ref":"#/components/schemas/DpmJobTaskDetails"},"type":"array"}},"type":"object"},"DpmJobTaskDetails":{"description":"DPM workload-specific job task details.","properties":{"duration":{"description":"Time elapsed for task.","format":"duration","type":"string"},"endTime":{"description":"The end time.","format":"date-time","type":"string"},"startTime":{"description":"The start time.","format":"date-time","type":"string"},"status":{"description":"The status.","type":"string"},"taskId":{"description":"The task display name.","type":"string"}},"type":"object"},"FeatureSupportRequest":{"description":"Base class for feature request","discriminator":{"propertyName":"featureType"},"properties":{"featureType":{"description":"backup support feature type.","type":"string"}},"type":"object"},"InstantRPAdditionalDetails":{"properties":{"azureBackupRGNamePrefix":{"type":"string"},"azureBackupRGNameSuffix":{"type":"string"}},"type":"object"},"Job":{"description":"Defines workload agnostic properties for a job.","discriminator":{"propertyName":"jobType"},"properties":{"activityId":{"description":"ActivityId of job.","type":"string"},"backupManagementType":{"description":"Backup management type to execute the current job.","enum":["Invalid","AzureIaasVM","MAB","DPM","AzureBackupServer","AzureSql","AzureStorage","AzureWorkload","DefaultBackup"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"BackupManagementType"}},"endTime":{"description":"The end time.","format":"date-time","type":"string"},"entityFriendlyName":{"description":"Friendly name of the entity on which the current job is executing.","type":"string"},"jobType":{"description":"This property will be used as the discriminator for deciding the specific types in the polymorphic chain of types.","type":"string"},"operation":{"description":"The operation name.","type":"string"},"startTime":{"description":"The start time.","format":"date-time","type":"string"},"status":{"description":"Job status.","type":"string"}},"required":["jobType"],"type":"object"},"JobResource":{"allOf":[{"$ref":"#/components/schemas/Resource"}],"description":"Defines workload agnostic properties for a job.","properties":{"properties":{"$ref":"#/components/schemas/Job"}}},"MabErrorInfo":{"description":"MAB workload-specific error information.","properties":{"errorString":{"description":"Localized error string.","readOnly":true,"type":"string"},"recommendations":{"description":"List of localized recommendations.","items":{"type":"string"},"readOnly":true,"type":"array"}},"type":"object"},"MabJob":{"allOf":[{"$ref":"#/components/schemas/Job"}],"description":"MAB workload-specific job.","properties":{"actionsInfo":{"description":"The state/actions applicable on jobs like cancel/retry.","items":{"enum":["Invalid","Cancellable","Retriable"],"type":"string","x-ms-enum":{"modelAsString":false,"name":"JobSupportedAction"}},"type":"array"},"duration":{"description":"Time taken by job to run.","format":"duration","type":"string"},"errorDetails":{"description":"The errors.","items":{"$ref":"#/components/schemas/MabErrorInfo"},"type":"array"},"extendedInfo":{"$ref":"#/components/schemas/MabJobExtendedInfo"},"mabServerName":{"description":"Name of server protecting the DS.","type":"string"},"mabServerType":{"description":"Server type of MAB container.","enum":["Invalid","Unknown","IaasVMContainer","IaasVMServiceContainer","DPMContainer","AzureBackupServerContainer","MABContainer","Cluster","AzureSqlContainer","Windows","VCenter","VMAppContainer","SQLAGWorkLoadContainer","StorageContainer","GenericContainer"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"MabServerType"}},"workloadType":{"description":"Workload type of backup item.","enum":["Invalid","VM","FileFolder","AzureSqlDb","SQLDB","Exchange","Sharepoint","VMwareVM","SystemState","Client","GenericDataSource","SQLDataBase","AzureFileShare","SAPHanaDatabase","SAPAseDatabase"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"WorkloadType"}}},"type":"object","x-ms-discriminator-value":"MabJob"},"MabJobExtendedInfo":{"description":"Additional information for the MAB workload-specific job.","properties":{"dynamicErrorMessage":{"description":"Non localized error message specific to this job.","type":"string"},"propertyBag":{"additionalProperties":{"type":"string"},"description":"The job properties.","type":"object"},"tasksList":{"description":"List of tasks for this job.","items":{"$ref":"#/components/schemas/MabJobTaskDetails"},"type":"array"}},"type":"object"},"MabJobTaskDetails":{"description":"MAB workload-specific job task details.","properties":{"duration":{"description":"Time elapsed for task.","format":"duration","type":"string"},"endTime":{"description":"The end time.","format":"date-time","type":"string"},"startTime":{"description":"The start time.","format":"date-time","type":"string"},"status":{"description":"The status.","type":"string"},"taskId":{"description":"The task display name.","type":"string"}},"type":"object"},"NameInfo":{"description":"The name of usage.","properties":{"localizedValue":{"description":"Localized value of usage.","type":"string"},"value":{"description":"Value of usage.","type":"string"}},"type":"object"},"PreValidateEnableBackupRequest":{"description":"Contract to validate if backup can be enabled on the given resource in a given vault and given configuration.\r\nIt will validate followings\r\n1. Vault capacity\r\n2. VM is already protected\r\n3. Any VM related configuration passed in properties.","properties":{"properties":{"description":"Configuration of VM if any needs to be validated like OS type etc","type":"string"},"resourceId":{"description":"ARM Virtual Machine Id","type":"string"},"resourceType":{"description":"ProtectedItem Type- VM, SqlDataBase, AzureFileShare etc","enum":["Invalid","VM","FileFolder","AzureSqlDb","SQLDB","Exchange","Sharepoint","VMwareVM","SystemState","Client","GenericDataSource","SQLDataBase","AzureFileShare","SAPHanaDatabase","SAPAseDatabase"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"DataSourceType"}},"vaultId":{"description":"ARM id of the Recovery Services Vault","type":"string"}},"type":"object"},"PreValidateEnableBackupResponse":{"description":"Response contract for enable backup validation request","properties":{"containerName":{"description":"Specifies the product specific container name. E.g. iaasvmcontainer;iaasvmcontainer;rgname;vmname. This is required\r\nfor portal","type":"string"},"errorCode":{"description":"Response error code","type":"string"},"errorMessage":{"description":"Response error message","type":"string"},"protectedItemName":{"description":"Specifies the product specific ds name. E.g. vm;iaasvmcontainer;rgname;vmname. This is required for portal","type":"string"},"recommendation":{"description":"Recommended action for user","type":"string"},"status":{"description":"Validation Status","enum":["Invalid","Succeeded","Failed"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ValidationStatus"}}},"type":"object"},"ProtectionIntent":{"description":"Base class for backup ProtectionIntent.","discriminator":{"propertyName":"protectionIntentItemType"},"properties":{"backupManagementType":{"description":"Type of backup management for the backed up item.","enum":["Invalid","AzureIaasVM","MAB","DPM","AzureBackupServer","AzureSql","AzureStorage","AzureWorkload","DefaultBackup"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"BackupManagementType"}},"itemId":{"description":"ID of the item which is getting protected, In case of Azure Vm , it is ProtectedItemId","type":"string"},"policyId":{"description":"ID of the backup policy with which this item is backed up.","type":"string"},"protectionIntentItemType":{"description":"backup protectionIntent type.","type":"string"},"protectionState":{"description":"Backup state of this backup item.","enum":["Invalid","NotProtected","Protecting","Protected","ProtectionFailed"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ProtectionStatus"}},"sourceResourceId":{"description":"ARM ID of the resource to be backed up.","type":"string"}},"type":"object"},"ProtectionIntentQueryObject":{"description":"Filters to list protection intent.","properties":{"backupManagementType":{"description":"Backup management type for the backed up item","enum":["Invalid","AzureIaasVM","MAB","DPM","AzureBackupServer","AzureSql","AzureStorage","AzureWorkload","DefaultBackup"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"BackupManagementType"}},"itemName":{"description":"Item name of the intent","type":"string"},"itemType":{"description":"Type of workload this item represents","enum":["Invalid","SQLInstance","SQLAvailabilityGroupContainer"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"IntentItemType"}},"parentName":{"description":"Parent name of the intent","type":"string"}},"type":"object"},"ProtectionIntentResource":{"allOf":[{"$ref":"#/components/schemas/Resource"}],"description":"Base class for backup ProtectionIntent.","properties":{"properties":{"$ref":"#/components/schemas/ProtectionIntent"}}},"ProtectionIntentResourceList":{"allOf":[{"$ref":"#/components/schemas/ResourceList"}],"description":"List of ProtectionIntent resources","properties":{"value":{"description":"List of resources.","items":{"$ref":"#/components/schemas/ProtectionIntentResource"},"type":"array"}},"type":"object"},"Resource":{"description":"ARM Resource.","properties":{"eTag":{"description":"Optional ETag.","type":"string"},"id":{"description":"Resource Id represents the complete path to the resource.","readOnly":true,"type":"string"},"location":{"description":"Resource location.","type":"string"},"name":{"description":"Resource name associated with the resource.","readOnly":true,"type":"string"},"tags":{"additionalProperties":{"type":"string"},"description":"Resource tags.","type":"object"},"type":{"description":"Resource type represents the complete path of the form Namespace/ResourceType/ResourceType/...","readOnly":true,"type":"string"}},"type":"object","x-ms-azure-resource":true},"ResourceList":{"description":"Base for all lists of resources.","properties":{"nextLink":{"description":"The uri to fetch the next page of resources. Call ListNext() fetches next page of resources.","type":"string"}},"type":"object"}}}}